import{n as e,I as n,w as o,J as a,a2 as t,x as i,K as l,L as s,a3 as r,k as d,g as c,o as u,i as g,h as p,b as v,a0 as b}from"../build/server.mjs";import{_ as h}from"./QSlideTransition.mjs";import{n as m,e as x,az as f,aG as S,ba as I,o as _,aC as q,aI as w,bb as T}from"../nitro/nitro.mjs";const C=I({}),y=Object.keys(t),L=e({name:"QExpansionItem",props:{...t,...a,...o,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...n,"click","afterShow","afterHide"],setup(e,{slots:n,emit:o}){const{proxy:{$q:a}}=m(),t=i(e,a),I=x(null!==e.modelValue?e.modelValue:e.defaultOpened),L=x(null),k=l(),{show:H,hide:j,toggle:B}=s({showing:I});let O,A;const E=f((()=>"q-expansion-item q-item-type q-expansion-item--"+(!0===I.value?"expanded":"collapsed")+" q-expansion-item--"+(!0===e.popup?"popup":"standard"))),G=f((()=>{if(void 0===e.contentInsetLevel)return null;const n=!0===a.lang.rtl?"Right":"Left";return{["padding"+n]:56*e.contentInsetLevel+"px"}})),K=f((()=>!0!==e.disable&&(void 0!==e.href||void 0!==e.to&&null!==e.to&&""!==e.to))),N=f((()=>{const n={};return y.forEach((o=>{n[o]=e[o]})),n})),Q=f((()=>!0===K.value||!0!==e.expandIconToggle)),V=f((()=>void 0!==e.expandedIcon&&!0===I.value?e.expandedIcon:e.expandIcon||a.iconSet.expansionItem[!0===e.denseToggle?"denseIcon":"icon"])),z=f((()=>!0!==e.disable&&(!0===K.value||!0===e.expandIconToggle))),F=f((()=>({expanded:!0===I.value,detailsId:k.value,toggle:B,show:H,hide:j}))),J=f((()=>{const n=void 0!==e.toggleAriaLabel?e.toggleAriaLabel:a.lang.label[!0===I.value?"collapse":"expand"](e.label);return{role:"button","aria-expanded":!0===I.value?"true":"false","aria-controls":k.value,"aria-label":n}}));function onHeaderClick(e){!0!==K.value&&B(e),o("click",e)}function toggleIconKeyboard(e){13===e.keyCode&&toggleIcon(e,!0)}function toggleIcon(e,n){!0!==n&&!0!==e.qAvoidFocus&&L.value?.focus(),B(e),b(e)}function onShow(){o("afterShow")}function onHide(){o("afterHide")}function enterGroup(){void 0===O&&(O=r()),!0===I.value&&(C[e.group]=O);const n=S(I,(n=>{!0===n?C[e.group]=O:C[e.group]===O&&delete C[e.group]})),o=S((()=>C[e.group]),((e,n)=>{n===O&&void 0!==e&&e!==O&&j()}));A=()=>{n(),o(),C[e.group]===O&&delete C[e.group],A=void 0}}function getHeaderChild(){let o;return void 0!==n.header?o=[].concat(n.header(F.value)):(o=[q(p,(()=>[q(g,{lines:e.labelLines},(()=>e.label||"")),e.caption?q(g,{lines:e.captionLines,caption:!0},(()=>e.caption)):null]))],e.icon&&o[!0===e.switchToggleSide?"push":"unshift"](q(p,{side:!0===e.switchToggleSide,avatar:!0!==e.switchToggleSide},(()=>q(v,{name:e.icon}))))),!0!==e.disable&&!0!==e.hideExpandIcon&&o[!0===e.switchToggleSide?"unshift":"push"](function(){const n={class:["q-focusable relative-position cursor-pointer"+(!0===e.denseToggle&&!0===e.switchToggleSide?" items-end":""),e.expandIconClass],side:!0!==e.switchToggleSide,avatar:e.switchToggleSide},o=[q(v,{class:"q-expansion-item__toggle-icon"+(void 0===e.expandedIcon&&!0===I.value?" q-expansion-item__toggle-icon--rotated":""),name:V.value})];return!0===z.value&&(Object.assign(n,{tabindex:0,...J.value,onClick:toggleIcon,onKeyup:toggleIconKeyboard}),o.unshift(q("div",{ref:L,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),q(p,n,(()=>o))}()),o}function getHeader(){const n={ref:"item",style:e.headerStyle,class:e.headerClass,dark:t.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return!0===Q.value&&(n.clickable=!0,n.onClick=onHeaderClick,Object.assign(n,!0===K.value?N.value:J.value)),q(c,n,getHeaderChild)}function getTransitionChild(){return w(q("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:G.value,id:k.value},u(n.default)),[[T,I.value]])}function getContent(){const n=[getHeader(),q(h,{duration:e.duration,onShow:onShow,onHide:onHide},getTransitionChild)];return!0===e.expandSeparator&&n.push(q(d,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:t.value}),q(d,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:t.value})),n}return S((()=>e.group),(e=>{A?.(),void 0!==e&&enterGroup()})),void 0!==e.group&&enterGroup(),_((()=>{A?.()})),()=>q("div",{class:E.value},[q("div",{class:"q-expansion-item__container relative-position"},getContent())])}});export{L as _};
//# sourceMappingURL=QExpansionItem.mjs.map

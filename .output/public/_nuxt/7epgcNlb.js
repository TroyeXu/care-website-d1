import{v as K,u as L,x as W,y as Y,z as Z,A as _,B as M,c as ee,o as X,w as l,a as e,b as oe,d as se,e as o,l as d,j as te,C as a,D as le,E as n,m as re,J as O,ae as P,af as ae,t as b,F as ne,f as ie,G as de,n as me,_ as ce}from"./DLx3-ifv.js";import{F as _e,r as ue,a as i}from"./CcHQG1vm.js";import{_ as pe}from"./BLeqURD3.js";import{_ as ve}from"./C5go2q6Y.js";import{_ as ge}from"./CSiiy5fn.js";import"./Yqo6pqZJ.js";import"./BFiq8LBz.js";const fe={class:"text-h5 text-primary q-mb-sm"},xe={class:"text-h6 q-mb-md text-grey-8"},qe={class:"row q-gutter-md q-mb-md"},be={class:"col"},he={class:"row q-gutter-md q-mb-md"},ye={class:"col"},we={class:"row q-gutter-md q-mb-md"},ke={class:"col"},Xe={class:"text-h6 q-mb-md text-grey-8"},Ve={class:"row q-gutter-md q-mb-md"},Ce={class:"col"},$e={class:"row q-gutter-md q-mb-md"},Se={class:"col"},Be={class:"text-h6 q-mb-md text-grey-8"},Oe={class:"row q-gutter-md q-mb-md"},Pe={class:"col"},De={key:0,class:"text-negative text-caption q-mt-xs"},Fe={class:"q-pa-md bg-grey-1"},Ne={class:"row q-gutter-md q-mb-md"},ze={class:"col-6"},Ee={class:"col-6"},Te={class:"row q-gutter-md q-mb-md"},Ue={class:"col"},je={class:"row q-gutter-md q-mb-md"},Ae={class:"col"},He={class:"row q-gutter-md q-mb-md"},Ge={class:"col"},Ie={class:"row q-gutter-md"},Je={class:"col"},Qe={class:"row q-gutter-md q-mb-lg"},Re={class:"col"},Ke={key:0,class:"text-negative text-caption q-mt-xs"},Le={class:"row q-gutter-md"},We={class:"col"},Ye={class:"text-center q-mt-md"},Ze={class:"text-body2 text-grey-6"},Me={class:"text-h6 text-negative"},eo=K({__name:"register",setup(oo){L("註冊帳號 - 護理服務平台","免費註冊成為護理服務平台使用者，享受專業的照護服務");const D=W(),V=Y(),F=Z(),h=_(!1),u=_(!1),p=_(!1),v=_(!1),y=_(""),g=_([]),f=_([]),N=[{label:"患者/家屬",value:"patient",icon:"elderly",description:"尋找照護服務"},{label:"照護員",value:"caregiver",icon:"medical_services",description:"提供照護服務"}],z=[{label:"男性",value:"男"},{label:"女性",value:"女"},{label:"其他",value:"其他"}],E=["糖尿病","高血壓","心臟病","失智症","中風後遺症","骨折/骨病","癌症","腎臟病","肝病","精神疾病","其他慢性病"],T=["女性照護員","男性照護員","有護理師證照","有照服員證照","失智症照護經驗","復健照護經驗","日間照護","夜間照護","24小時照護","語言溝通佳","有愛心耐心","經驗豐富"],U=async w=>{h.value=!0;try{const s={...w,profile:{...w.profile,medicalHistory:g.value.length>0?g.value:void 0,preferences:f.value.length>0?f.value:void 0}};await F.register(s),V.notify({type:"positive",message:"註冊成功！歡迎加入護理服務平台",icon:"check_circle",timeout:3e3}),await D.push("/user/dashboard")}catch(s){console.error("註冊失敗:",s),y.value=s.message||"註冊過程發生錯誤，請稍後再試",v.value=!0,V.notify({type:"negative",message:y.value,icon:"error",timeout:5e3})}finally{h.value=!1}};return(w,s)=>{const c=te,x=se,m=le,C=re,j=ae,k=ve,A=pe,H=ne,$=ie,G=M("router-link"),S=oe,I=me,J=de,Q=ge;return X(),ee(Q,{class:"q-pa-md flex flex-center bg-grey-1"},{default:l(()=>[e(S,{flat:"",bordered:"",class:"register-card",style:{"min-width":"400px","max-width":"500px",width:"100%"}},{default:l(()=>[e(x,{class:"text-center q-pb-none"},{default:l(()=>[o("div",fe,[e(c,{name:"person_add",size:"md",class:"q-mr-sm"}),s[6]||(s[6]=d(" 建立新帳號 ",-1))]),s[7]||(s[7]=o("div",{class:"text-grey-6 text-body2"}," 加入護理服務平台，開始您的照護之旅 ",-1))]),_:1,__:[7]}),e(x,null,{default:l(()=>[e(a(_e),{"validation-schema":a(ue),onSubmit:U},{default:l(({errors:q,isSubmitting:B})=>[o("div",xe,[e(c,{name:"info",class:"q-mr-xs"}),s[8]||(s[8]=d(" 基本資訊 ",-1))]),o("div",qe,[o("div",be,[e(a(i),{name:"name"},{default:l(({field:r,errorMessage:t})=>[e(m,n(r,{label:"姓名 *",outlined:"",dense:"",error:!!t,"error-message":t,"prefix-icon":"person",placeholder:"請輸入您的姓名"}),null,16,["error","error-message"])]),_:1})])]),o("div",he,[o("div",ye,[e(a(i),{name:"email"},{default:l(({field:r,errorMessage:t})=>[e(m,n(r,{label:"電子郵件 *",type:"email",outlined:"",dense:"",error:!!t,"error-message":t,"prefix-icon":"email",placeholder:"example@email.com"}),null,16,["error","error-message"])]),_:1})])]),o("div",we,[o("div",ke,[e(a(i),{name:"phone"},{default:l(({field:r,errorMessage:t})=>[e(m,n(r,{label:"電話號碼 *",outlined:"",dense:"",error:!!t,"error-message":t,"prefix-icon":"phone",placeholder:"09XXXXXXXX",mask:"##########"}),null,16,["error","error-message"])]),_:1})])]),e(C,{class:"q-my-md"}),o("div",Xe,[e(c,{name:"lock",class:"q-mr-xs"}),s[9]||(s[9]=d(" 密碼設定 ",-1))]),o("div",Ve,[o("div",Ce,[e(a(i),{name:"password"},{default:l(({field:r,errorMessage:t})=>[e(m,n(r,{label:"密碼 *",type:u.value?"text":"password",outlined:"",dense:"",error:!!t,"error-message":t,"prefix-icon":"lock",placeholder:"至少8個字符，包含大小寫和數字"}),{append:l(()=>[e(c,{name:u.value?"visibility":"visibility_off",class:"cursor-pointer",onClick:s[0]||(s[0]=R=>u.value=!u.value)},null,8,["name"])]),_:2},1040,["type","error","error-message"])]),_:1})])]),o("div",$e,[o("div",Se,[e(a(i),{name:"confirmPassword"},{default:l(({field:r,errorMessage:t})=>[e(m,n(r,{label:"確認密碼 *",type:p.value?"text":"password",outlined:"",dense:"",error:!!t,"error-message":t,"prefix-icon":"lock",placeholder:"請再次輸入密碼"}),{append:l(()=>[e(c,{name:p.value?"visibility":"visibility_off",class:"cursor-pointer",onClick:s[1]||(s[1]=R=>p.value=!p.value)},null,8,["name"])]),_:2},1040,["type","error","error-message"])]),_:1})])]),e(C,{class:"q-my-md"}),o("div",Be,[e(c,{name:"group",class:"q-mr-xs"}),s[10]||(s[10]=d(" 用戶類型 ",-1))]),o("div",Oe,[o("div",Pe,[e(a(i),{name:"role"},{default:l(({field:r,errorMessage:t})=>[e(j,n(r,{options:N,type:"radio",inline:"",error:!!t,class:"q-mt-sm"}),null,16,["error"]),t?(X(),O("div",De,b(t),1)):P("",!0)]),_:1})])]),e(A,{icon:"settings",label:"個人資料 (選填)",class:"q-mb-md","header-class":"text-grey-7"},{default:l(()=>[o("div",Fe,[o("div",Ne,[o("div",ze,[e(a(i),{name:"profile.age"},{default:l(({field:r,errorMessage:t})=>[e(m,n(r,{label:"年齡",type:"number",outlined:"",dense:"",error:!!t,"error-message":t,suffix:"歲",min:"18",max:"120"}),null,16,["error","error-message"])]),_:1})]),o("div",Ee,[e(a(i),{name:"profile.gender"},{default:l(({field:r,errorMessage:t})=>[e(k,n(r,{label:"性別",options:z,outlined:"",dense:"","emit-value":"","map-options":"",error:!!t,"error-message":t}),null,16,["error","error-message"])]),_:1})])]),o("div",Te,[o("div",Ue,[e(a(i),{name:"profile.address"},{default:l(({field:r,errorMessage:t})=>[e(m,n(r,{label:"地址",outlined:"",dense:"",error:!!t,"error-message":t,placeholder:"請輸入完整地址"}),null,16,["error","error-message"])]),_:1})])]),o("div",je,[o("div",Ae,[e(a(i),{name:"profile.emergencyContact"},{default:l(({field:r,errorMessage:t})=>[e(m,n(r,{label:"緊急聯絡人電話",outlined:"",dense:"",error:!!t,"error-message":t,placeholder:"09XXXXXXXX",mask:"##########"}),null,16,["error","error-message"])]),_:1})])]),o("div",He,[o("div",Ge,[e(k,{modelValue:g.value,"onUpdate:modelValue":s[2]||(s[2]=r=>g.value=r),label:"醫療史",options:E,outlined:"",dense:"",multiple:"","use-chips":"",placeholder:"選擇相關的醫療狀況"},null,8,["modelValue"])])]),o("div",Ie,[o("div",Je,[e(k,{modelValue:f.value,"onUpdate:modelValue":s[3]||(s[3]=r=>f.value=r),label:"照護偏好",options:T,outlined:"",dense:"",multiple:"","use-chips":"",placeholder:"選擇您的照護偏好"},null,8,["modelValue"])])])])]),_:1}),o("div",Qe,[o("div",Re,[e(a(i),{name:"agreeToTerms"},{default:l(({field:r,errorMessage:t})=>[e(H,n(r,{"model-value":r.value,label:"我同意服務條款和隱私政策",error:!!t}),null,16,["model-value","error"]),t?(X(),O("div",Ke,b(t),1)):P("",!0)]),_:1})])]),o("div",Le,[o("div",We,[e($,{type:"submit",color:"primary",size:"lg",class:"full-width",loading:B||h.value,disable:Object.keys(q).length>0,icon:"person_add"},{default:l(()=>[d(b(B?"註冊中...":"建立帳號"),1)]),_:2},1032,["loading","disable"])])]),o("div",Ye,[o("div",Ze,[s[12]||(s[12]=d(" 已有帳號？ ",-1)),e(G,{to:"/auth/login",class:"text-primary text-decoration-none"},{default:l(()=>s[11]||(s[11]=[d(" 立即登入 ",-1)])),_:1,__:[11]})])])]),_:1},8,["validation-schema"])]),_:1})]),_:1}),e(J,{modelValue:v.value,"onUpdate:modelValue":s[5]||(s[5]=q=>v.value=q)},{default:l(()=>[e(S,null,{default:l(()=>[e(x,null,{default:l(()=>[o("div",Me,[e(c,{name:"error",class:"q-mr-sm"}),s[13]||(s[13]=d(" 註冊失敗 ",-1))])]),_:1}),e(x,null,{default:l(()=>[d(b(y.value),1)]),_:1}),e(I,{align:"right"},{default:l(()=>[e($,{flat:"",color:"primary",onClick:s[4]||(s[4]=q=>v.value=!1)},{default:l(()=>s[14]||(s[14]=[d(" 確定 ",-1)])),_:1,__:[14]})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}}),mo=ce(eo,[["__scopeId","data-v-37a56a5c"]]);export{mo as default};
